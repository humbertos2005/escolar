{% extends 'base.html' %}
{% block content %}
<h2>Listagem de Cabeçalhos de Documentos</h2>

<div class="toolbar" style="display:flex; justify-content:flex-end; margin-bottom:12px;">
    <a href="{{ url_for('cadastros_bp.cabecalho_novo') }}" class="button btn-primary">
        <i class="fas fa-plus"></i> Novo Cabeçalho
    </a>
</div>

{% if cabecalhos %}
<table class="table table-data">
    <thead>
        <tr>
            <th>ID</th>
            <th>Estado</th>
            <th>Secretaria</th>
            <th>Coordenação</th>
            <th>Escola</th>
            <th>Logos</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for c in cabecalhos %}
        <tr>
            <td>{{ c.id }}</td>
            <td>{{ c.estado or '-' }}</td>
            <td>{{ c.secretaria or '-' }}</td>
            <td>{{ c.coordenacao or '-' }}</td>
            <td>{{ c.escola or '-' }}</td>
            <td>
                {% if c.logo_estado_url %}
                    <img src="{{ c.logo_estado_url }}" alt="Logo Estado" style="max-width:80px; margin-right:6px; vertical-align:middle;">
                {% endif %}
                {% if c.logo_escola_url %}
                    <img src="{{ c.logo_escola_url }}" alt="Logo Escola" style="max-width:80px; vertical-align:middle;">
                {% endif %}
            </td>
            <td>
                <a href="{{ url_for('cadastros_bp.cabecalho_editar', id=c.id) }}" class="button btn-primary" style="margin-right:6px;">
                    <i class="fas fa-edit"></i> Editar
                </a>
                <form method="POST" action="{{ url_for('cadastros_bp.cabecalho_excluir', id=c.id) }}" style="display:inline;" onsubmit="return confirm('Confirmar exclusão?');">
                    <button type="submit" class="button btn-danger"><i class="fas fa-trash"></i> Excluir</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <p>Nenhum cabeçalho cadastrado.</p>
    <a href="{{ url_for('cadastros_bp.cabecalho_novo') }}" class="button btn-primary">Criar primeiro Cabeçalho</a>
</div>
{% endif %}

<style>
.table-data { width:100%; border-collapse:collapse; margin-top:8px; }
.table-data th, .table-data td { padding:10px; border:1px solid #e0e0e0; text-align:left; vertical-align:middle; }
.button { display:inline-block; padding:8px 12px; border-radius:6px; text-decoration:none; color:#fff; }
.btn-primary { background:#3498db; }
.btn-danger { background:#e74c3c; color:#fff; border:none; padding:8px 10px; border-radius:6px; }
.empty-state { background:#fff; padding:18px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.04); text-align:center; }
</style>
{% endblock %}